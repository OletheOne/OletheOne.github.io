<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Complete Stardew Valley guide with strategies for all seasons, tips for beginners, and advanced farming techniques.">
    <title>Stardew Valley Guide | Complete Walkthrough</title>
    <link rel="stylesheet" href="../styles/main.css">
    <!-- Favicon -->
    <link rel="icon" href="../assets/images/favicon.ico" type="image/x-icon">
    <style>
        /* Initial loading styles */
        body {
            overflow-x: hidden;
        }
        
        .intro-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: 9999;
            overflow: hidden;
        }
        
        .intro-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('../assets/images/stardew-valley-bg.jpg');
            background-size: cover;
            background-position: center;
            transition: transform 2s cubic-bezier(0.16, 1, 0.3, 1);
        }
        
        .intro-background::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(59, 110, 143, 0.9) 0%, rgba(104, 176, 136, 0.8) 100%);
            opacity: 0;
            transition: opacity 1.5s ease;
        }
        
        .intro-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, calc(-50% + 60px));
            width: 100%;
            max-width: 800px;
            text-align: center;
            color: white;
            opacity: 0;
            transition: transform 1.5s cubic-bezier(0.16, 1, 0.3, 1), opacity 1.5s ease;
            z-index: 2;
        }
        
        .intro-title {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .intro-subtitle {
            font-size: 1.5rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }
        
        .intro-cta {
            display: inline-block;
            padding: 0.75rem 1.5rem;
            background-color: var(--color-accent);
            color: white;
            font-weight: 600;
            border-radius: var(--radius-md);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            text-decoration: none;
        }
        
        .intro-cta:hover {
            background-color: var(--color-accent-dark);
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
            text-decoration: none;
            color: white;
        }
        
        /* Animation states */
        .intro-animation.animate .intro-background::before {
            opacity: 1;
        }
        
        .intro-animation.animate .intro-content {
            opacity: 1;
            transform: translate(-50%, -50%);
        }
        
        .intro-animation.complete {
            pointer-events: none;
        }
        
        .intro-animation.complete .intro-background {
            transform: translateY(-100vh);
        }
        
        .intro-animation.complete .intro-content {
            opacity: 0;
        }
        
        /* Hide main content until animation completes */
        .main-content {
            opacity: 0;
            transition: opacity 1s ease;
        }
        
        .main-content.visible {
            opacity: 1;
        }
        
        /* Hide hero section - we'll use the intro animation instead */
        .hero {
            display: none;
        }
    </style>
</head>
<body>
    <!-- Intro Animation -->
    <div class="intro-animation" id="intro-animation">
        <div class="intro-background" id="intro-background"></div>
        <div class="intro-content" id="intro-content">
            <h1 class="intro-title">Stardew Valley Guide</h1>
            <p class="intro-subtitle">Your complete companion to farm life and adventures</p>
            <a href="#introduction" class="intro-cta" id="explore-button">Start Reading</a>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content" id="main-content">
        <!-- Progress Bar -->
        <div class="progress-bar" id="progress-bar"></div>
        
        <!-- Header -->
        <header class="header" id="main-header">
            <div class="container">
                <div class="header__inner">
                    <a href="../index.html" class="header__logo">GameGuides</a>
                    <nav class="nav" aria-label="Main Navigation">
                        <ul class="nav__list">
                            <li class="nav__item">
                                <a href="../index.html" class="nav__link">Home</a>
                            </li>
                            <li class="nav__item">
                                <a href="#introduction" class="nav__link">Overview</a>
                            </li>
                            <li class="nav__item">
                                <a href="#seasons" class="nav__link">Seasons</a>
                            </li>
                            <li class="nav__item">
                                <a href="#tips" class="nav__link">Tips</a>
                            </li>
                            <li class="nav__item">
                                <a href="#strategies" class="nav__link">Strategies</a>
                            </li>
                            <li class="nav__item">
                                <a href="#videos" class="nav__link">Videos</a>
                            </li>
                        </ul>
                        <button class="nav__toggle" id="nav-toggle" aria-label="Toggle navigation">
                            <span>â˜°</span>
                        </button>
                    </nav>
                </div>
            </div>
        </header>
        
        <main>
            <div class="container">
                <div class="grid grid--with-sidebar">
                    <!-- Main Content -->
                    <div class="content">
                        <!-- Introduction Section -->
                        <section id="introduction" class="card card--primary fade-in">
                            <h2 class="card__title">Welcome to the Stardew Valley Walkthrough!</h2>
                            <p>
                                Whether you're just starting your farm or looking to optimize your gameplay, our comprehensive 
                                guide covers everything you need to know about Stardew Valley. Follow our season-by-season 
                                approach to make the most of your farming adventure!
                            </p>
                        </section>
                        
                        <!-- Seasons Guide Section -->
                        <section id="seasons" class="mt-5">
                            <h2 class="text-center mb-4">Season-by-Season Guide</h2>
                            
                            <div id="part1" class="guide-part fade-in">
                                <h3 class="guide-part__title">Part 1: First Spring</h3>
                                <p>
                                    Establishing optimal strategies for your first spring, focusing on maximum profitability, 
                                    early farm setup, early friendships, mining, fishing, and community center bundle preparation.
                                </p>
                                <ul class="mt-3">
                                    <li>Plant parsnips, potatoes, and cauliflower early</li>
                                    <li>Focus on reaching mining level 40 by end of month</li>
                                    <li>Begin building relationships with Sebastian, Robin, and Linus</li>
                                    <li>Save at least one of each spring crop for bundles</li>
                                </ul>
                            </div>
                            
                            <div id="part2" class="guide-part fade-in">
                                <h3 class="guide-part__title">Part 2: First Summer</h3>
                                <p>
                                    Detailing strategies for first summer, further enhancing your profitability, transitioning to 
                                    upgraded crops, deeper mining, advanced fishing, and community center bundle progression.
                                </p>
                                <ul class="mt-3">
                                    <li>Focus on blueberries for maximum profit</li>
                                    <li>Craft quality sprinklers to automate watering</li>
                                    <li>Reach the bottom of the mines</li>
                                    <li>Begin focusing on artisan production</li>
                                </ul>
                            </div>
                            
                            <div id="part3" class="guide-part fade-in">
                                <h3 class="guide-part__title">Part 3: First Fall</h3>
                                <p>
                                    Covering the critical first fall, optimizing farm layout, key high-value crops, completing 
                                    important bundles, upgrading tools, and establishing deeper relationship progressions.
                                </p>
                                <ul class="mt-3">
                                    <li>Plant cranberries and pumpkins for high profit</li>
                                    <li>Focus on completing the pantry bundles</li>
                                    <li>Begin planning your ideal farm layout</li>
                                    <li>Prepare for winter by stockpiling resources</li>
                                </ul>
                            </div>
                            
                            <div id="part4" class="guide-part fade-in">
                                <h3 class="guide-part__title">Part 4: First Winter</h3>
                                <p>
                                    Explaining your approach for the first winter, turning downtime into major progress with mining, 
                                    fishing, community bundles, and maximizing friendships.
                                </p>
                                <ul class="mt-3">
                                    <li>Redesign and upgrade your farm</li>
                                    <li>Focus on the mines and skull cavern</li>
                                    <li>Build relationships to unlock heart events</li>
                                    <li>Stock up on resources for spring planting</li>
                                </ul>
                            </div>
                            
                            <div id="part5" class="guide-part fade-in">
                                <h3 class="guide-part__title">Part 5: Year 2 and Beyond</h3>
                                <p>
                                    Laying out strategies for Year 2 and beyond, transitioning to large-scale farming setups, 
                                    Ginger Island content, automation, animal husbandry, and sustainable, massive profits 
                                    alongside advanced relationship building.
                                </p>
                                <ul class="mt-3">
                                    <li>Focus on ancient fruit in the greenhouse</li>
                                    <li>Develop a wine and jam production pipeline</li>
                                    <li>Unlock and explore Ginger Island</li>
                                    <li>Complete all remaining achievements</li>
                                </ul>
                            </div>
                        </section>
                        
                        <!-- Tips Section -->
                        <section id="tips" class="card card--accent mt-5 fade-in">
                            <h2 class="card__title">Tips for Beginners</h2>
                            <ul class="feature-list feature-list--tips">
                                <li>Start by focusing on farming and gathering resources to build capital quickly.</li>
                                <li>Build relationships with the townsfolk to unlock new recipes, events, and gifts.</li>
                                <li>Plan your farm layout for optimal efficiency, especially with sprinkler placement.</li>
                                <li>Save one of each crop for the community center bundles to avoid missing seasonal items.</li>
                                <li>Upgrade your watering can before a rainy day so you don't miss watering crops.</li>
                                <li>Check the TV every morning for weather forecasts, luck, and cooking recipes.</li>
                                <li>The mine elevator saves every five levels, making deeper exploration more manageable.</li>
                            </ul>
                        </section>
                        
                        <!-- Strategies Section -->
                        <section id="strategies" class="card card--accent2 mt-5 fade-in">
                            <h2 class="card__title">Advanced Strategies</h2>
                            <ul class="feature-list feature-list--strategies">
                                <li>Utilize the greenhouse for year-round farming of high-value crops like ancient fruit.</li>
                                <li>Invest in artisan goods for higher profits - especially kegs for wine production.</li>
                                <li>Explore the mines for valuable resources and combat experience, focusing on iridium in Skull Cavern.</li>
                                <li>Focus on ancient fruit and starfruit for maximum profit, processed into wine.</li>
                                <li>Build relationships strategically for helpful gifts and recipes, particularly with Caroline for tea saplings.</li>
                                <li>Use crystal paths and junimo huts for late-game automation of your farm.</li>
                                <li>Master the fishing mini-game with the trap bobber for difficult catches.</li>
                            </ul>
                        </section>
                        
                        <!-- Videos Section -->
                        <section id="videos" class="video-section mt-5 fade-in">
                            <h2 class="video-section__title">Walkthrough Videos</h2>
                            <p>Check out our video guides for visual walkthroughs:</p>
                            
                            <div class="video-container">
                                <!-- Original video element -->
                                <video controls>
                                    <source src="../assets/videos/stardew-valley-guide.mp4" type="video/mp4">
                                    Your browser does not support the video tag.
                                </video>
                                
                                <!-- Video placeholder -->
                                <div class="video-placeholder">
                                    <div class="video-placeholder__icon">ðŸŽ®</div>
                                    <p class="video-placeholder__text">Video content coming soon!</p>
                                    <p class="video-placeholder__path">../assets/videos/stardew-valley-guide.mp4</p>
                                </div>
                            </div>
                        </section>
                    </div>
                    
                    <!-- Sidebar -->
                    <aside>
                        <!-- Table of Contents -->
                        <div class="toc" id="toc">
                            <h3 class="toc__title">In This Guide</h3>
                            <ul class="toc__list">
                                <li class="toc__item">
                                    <a href="#introduction" class="toc__link">Introduction</a>
                                </li>
                                <li class="toc__item">
                                    <a href="#seasons" class="toc__link">Seasons Guide</a>
                                    <ul>
                                        <li><a href="#part1" class="toc__link">First Spring</a></li>
                                        <li><a href="#part2" class="toc__link">First Summer</a></li>
                                        <li><a href="#part3" class="toc__link">First Fall</a></li>
                                        <li><a href="#part4" class="toc__link">First Winter</a></li>
                                        <li><a href="#part5" class="toc__link">Year 2+</a></li>
                                    </ul>
                                </li>
                                <li class="toc__item">
                                    <a href="#tips" class="toc__link">Tips for Beginners</a>
                                </li>
                                <li class="toc__item">
                                    <a href="#strategies" class="toc__link">Advanced Strategies</a>
                                </li>
                                <li class="toc__item">
                                    <a href="#videos" class="toc__link">Walkthrough Videos</a>
                                </li>
                            </ul>
                        </div>
                    </aside>
                </div>
            </div>
        </main>
        
        <!-- Footer -->
        <footer class="footer">
            <div class="container">
                <p class="footer__text">&copy; 2025 Video Game Walkthroughs. All rights reserved.</p>
            </div>
        </footer>
        
        <!-- Back to Top Button -->
        <a href="#" id="back-to-top" class="back-to-top" aria-label="Back to top">â†‘</a>
    </div>
    
    <!-- Scripts -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Intro animation elements
            const introAnimation = document.getElementById('intro-animation');
            const introBackground = document.getElementById('intro-background');
            const introContent = document.getElementById('intro-content');
            const exploreButton = document.getElementById('explore-button');
            const mainContent = document.getElementById('main-content');
            
            // Run the animation sequence
            setTimeout(function() {
                introAnimation.classList.add('animate');
            }, 500);
            
            // Button click completes the animation
            exploreButton.addEventListener('click', function(e) {
                e.preventDefault();
                completeIntroAnimation();
                
                // Scroll to introduction section after animation completes
                setTimeout(function() {
                    const introSection = document.getElementById('introduction');
                    if (introSection) {
                        window.scrollTo({
                            top: introSection.offsetTop - 80,
                            behavior: 'smooth'
                        });
                    }
                }, 1000);
            });
            
            
            
            // Function to complete the intro animation
            function completeIntroAnimation() {
                introAnimation.classList.add('complete');
                
                // Show main content after animation completes
                setTimeout(function() {
                    mainContent.classList.add('visible');
                    document.body.style.overflow = 'auto';
                    
                    // IMPORTANT: Completely remove the intro animation element after transition
                    setTimeout(() => {
                        introAnimation.style.display = 'none';
                        // Optional: Remove from DOM entirely
                        introAnimation.remove();
                    }, 2000); // Wait for the animation to complete before removing
                }, 500);
            }
            
            // Handle missing background image
            const testBg = new Image();
            testBg.onerror = function() {
                introBackground.style.backgroundImage = 'linear-gradient(135deg, var(--color-primary) 0%, var(--color-accent) 100%)';
            };
            testBg.src = '../assets/images/stardew-valley-bg.jpg';
            
            // Variables for main site functionality
            const header = document.getElementById('main-header');
            const backToTopButton = document.getElementById('back-to-top');
            const progressBar = document.getElementById('progress-bar');
            const navToggle = document.getElementById('nav-toggle');
            const navList = document.querySelector('.nav__list');
            
            let lastScrollY = window.scrollY;
            
            // Smooth scroll for navigation links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    if(this.getAttribute('href') !== '#') {
                        e.preventDefault();
                        
                        const targetId = this.getAttribute('href');
                        const targetElement = document.querySelector(targetId);
                        
                        if(targetElement) {
                            window.scrollTo({
                                top: targetElement.offsetTop - 80,
                                behavior: 'smooth'
                            });
                        }
                    }
                });
            });
            
            // Handle scroll events
            window.addEventListener('scroll', function() {
                // Progress bar
                const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
                const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                const scrolled = (winScroll / height) * 100;
                progressBar.style.width = scrolled + "%";
                
                // Back to top button visibility
                if(window.scrollY > 300) {
                    backToTopButton.classList.add('visible');
                } else {
                    backToTopButton.classList.remove('visible');
                }
                
                // Header appearance/disappearance on scroll
                if(window.scrollY > 100) {
                    header.classList.add('scrolled');
                    
                    if(window.scrollY > lastScrollY) {
                        header.classList.add('hidden');
                    } else {
                        header.classList.remove('hidden');
                    }
                } else {
                    header.classList.remove('scrolled');
                }
                
                lastScrollY = window.scrollY;
            });
            
            // Back to top functionality
            backToTopButton.addEventListener('click', function(e) {
                e.preventDefault();
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
            
            // Mobile navigation toggle
            if(navToggle) {
                navToggle.addEventListener('click', function() {
                    navList.classList.toggle('active');
                });
            }
            
            // TOC highlighting based on scroll position
            function highlightTocItem() {
                const sections = document.querySelectorAll('section[id], div[id^="part"]');
                const scrollPosition = window.scrollY + 100;
                
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    const sectionHeight = section.offsetHeight;
                    const sectionId = section.getAttribute('id');
                    
                    if(scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
                        document.querySelectorAll('.toc__link').forEach(link => {
                            link.classList.remove('active');
                            if(link.getAttribute('href') === '#' + sectionId) {
                                link.classList.add('active');
                            }
                        });
                        
                        document.querySelectorAll('.nav__link').forEach(link => {
                            link.classList.remove('active');
                            if(link.getAttribute('href') === '#' + sectionId) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            }
            
            window.addEventListener('scroll', highlightTocItem);
            
            // Handle video placeholder
            const videoElement = document.querySelector('video');
            const videoPlaceholder = document.querySelector('.video-placeholder');
            
            if(videoElement && videoPlaceholder) {
                // Initially hide the placeholder
                videoPlaceholder.style.display = 'none';
                
                // Show placeholder if video fails to load
                videoElement.addEventListener('error', function() {
                    videoElement.style.display = 'none';
                    videoPlaceholder.style.display = 'flex';
                });
                
                // Check if the source is accessible
                const videoSource = videoElement.querySelector('source');
                if(videoSource) {
                    const testImage = new Image();
                    testImage.onerror = function() {
                        videoElement.style.display = 'none';
                        videoPlaceholder.style.display = 'flex';
                    };
                    testImage.src = videoSource.src.replace('.mp4', '.jpg');
                }
            }
            
            // Check for missing images and apply fallbacks
            function handleMissingImages() {
                const images = document.querySelectorAll('[style*="background-image"]');
                
                images.forEach(img => {
                    const style = getComputedStyle(img);
                    const url = style.backgroundImage.match(/url\(['"]?([^'"]+)['"]?\)/);
                    
                    if (url) {
                        const imageUrl = url[1];
                        const tempImg = new Image();
                        
                        tempImg.onerror = function() {
                            // Apply a fallback gradient if image fails to load
                            const elementId = img.id;
                            if (elementId === 'hero' || elementId === 'intro-background') {
                                img.style.backgroundImage = 'linear-gradient(135deg, var(--color-primary) 0%, var(--color-accent) 100%)';
                            } else {
                                img.style.backgroundImage = 'none';
                                img.style.backgroundColor = 'var(--color-primary-light)';
                            }
                        };
                        
                        tempImg.src = imageUrl;
                    }
                });
            }
            
            handleMissingImages();
            
            // Reveal animations on scroll
            const revealOnScroll = function() {
                const elements = document.querySelectorAll('.fade-in');
                const windowHeight = window.innerHeight;
                
                elements.forEach(element => {
                    const elementTop = element.getBoundingClientRect().top;
                    if(elementTop < windowHeight - 100) {
                        element.style.opacity = '1';
                        element.style.transform = 'translateY(0)';
                    }
                });
            };
            
            // Set initial state for fade-in elements
            document.querySelectorAll('.fade-in').forEach(element => {
                element.style.opacity = '0';
                element.style.transform = 'translateY(20px)';
                element.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
            });
            
            window.addEventListener('scroll', revealOnScroll);
            
            // Initial check for animations (after intro animation completes)
            setTimeout(revealOnScroll, 2000);
        });
    </script>
</body>
</html>